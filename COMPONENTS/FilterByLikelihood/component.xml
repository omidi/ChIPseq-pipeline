<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<component>
    <name>FilterByLikelihood</name>
    <!--<version>1.0</version>-->
    <doc>
    This component takes the final non-similar WMs as given by ReduceWM and checks which WMs contribute to explaining the sequences (by log-likelihood.
    </doc>
    <launcher type="python">
        <argument name="file" value="FilterByLikelihood.py" />
    </launcher>
    <requires>URL="http://www.python.org/not" type="manual">python</requires>
    <inputs>
        <input name="infile" type="BinaryFile">
            <doc>log_file of ReduceWMs. This one contains all the non-similar looking WMs.</doc>
        </input>
        <input name="regions" type="BinaryFile">
            <doc>Sequences or alignments.</doc>
        </input>
        <input name="BaseFrequencies" type="BinaryFile">
            <doc>File from BuildUFEmodel component containing the frequencies of A/T and G/C.</doc>
        </input>
        <input name="UFEmodel" type="BinaryFile" optional="true">
            <doc>File containing the UFE model. Only optional when ran without alignments.</doc>
        </input>
        <input name="keepWM" type="BinaryFile" optional="true">
            <doc>One WM that should be included in the out port WMdir in any case. This WM should also be in infile, though. Otherwise problems will arise later.</doc>
        </input>
    </inputs>
    <outputs>
        <output name="WMdir" type="BinaryFolder">
            <doc>Directory containing the final candidate WMs.</doc>
            </output>
        <output name="log_file" type="BinaryFile">
            <doc></doc>
        </output>
        <output name="intermediate" type="BinaryFolder">
            <doc></doc>
        </output>
        <output name="contribution_plot" type="PDF">
            <doc>A plot showing the contribution of all final WMs to the explanation of the input regions.</doc>
        </output>
    </outputs>
    <parameters>
        <parameter name="genome" type="string" default="">
            <doc>genome: hg19, mm9 ...</doc>
        </parameter>
        <parameter name="motevo_path" type="string" default="">
            <doc>Path to motevo executable.</doc>
        </parameter>
        <parameter name="aligned" type="boolean" default="true">
            <doc>Whether test and training sets are multiple alignments or sequences.</doc>
        </parameter>
        <parameter name="loglik_cutoff" type="float" default="10">
            <doc>The minimum increase of the log-likelhood when adding an additional matrix to keep the matrix</doc>
        </parameter>
    </parameters>
 </component>
